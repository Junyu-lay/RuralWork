# 工作队评分系统设置指南

## 数据库设置

请在 Supabase 的 SQL 编辑器中执行以下步骤：

### 1. 执行数据库建表 SQL

在 Supabase 控制台的 SQL 编辑器中执行 `team_evaluation_setup.sql` 文件中的所有 SQL 语句。

### 2. 主要数据表说明

#### work_teams (工作队信息表)
- 存储工作队的基本信息
- 包含队名、队长、负责村庄等信息

#### team_evaluation_activities (工作队评分活动表)  
- 存储评分活动的信息
- 管理员可以创建、编辑、完成评分活动

#### team_evaluations (工作队评分记录表)
- 存储具体的评分记录
- 五个维度评分：工作质量、配合程度、工作效率、创新能力、服务态度
- 每个维度20分，总分100分

### 3. 评分系统功能

#### 用户端功能 (/team-evaluation)
- 查看当前进行中的评分活动
- 对工作队进行五维度评分 (各20分)
- 填写评价意见
- 查看个人评分历史记录

#### 管理员功能 (管理员页面 → 工作队评分)
- 创建和管理评分活动
- 查看所有评分记录
- 统计分析评分数据
- 完成或删除评分活动

### 4. 权限说明

- **站所人员**：可以对包村工作队进行评分
- **管理员**：可以创建评分活动和查看所有数据
- **限制**：每个用户对同一工作队在同一活动中只能评分一次

### 5. 评分维度详细说明

1. **工作质量** (20分)：工作完成的质量和标准
2. **配合程度** (20分)：与站所工作的配合和协调
3. **工作效率** (20分)：工作完成的速度和效率
4. **创新能力** (20分)：工作方法和思路的创新性
5. **服务态度** (20分)：对村民和工作的服务态度

### 6. 使用流程

1. **管理员**创建评分活动（设置时间范围）
2. **站所人员**在活动期间对工作队进行评分
3. **系统**自动计算总分并记录评价意见
4. **管理员**查看评分结果和统计数据
5. **管理员**完成活动后停止接受新评分

## 注意事项

- 确保已在前端配置文件中添加了新的表名常量
- 评分活动开始后，站所人员才能进行评分
- 每个评分都需要填写评价意见（必填项）
- 系统会自动防止重复评分

## 技术实现

- 前端使用 React + Ant Design
- 后端使用 Supabase PostgreSQL 数据库  
- 实时数据同步和状态管理
- 表单验证和用户权限控制
